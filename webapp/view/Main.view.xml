<mvc:View controllerName="zfiflujoreqdoc.controller.Main"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:u="sap.ui.unified">
    <Page id="page" title="{i18n>title}">
        <content>
            <VBox fitContainer="true">
                <f:SimpleForm id="SimpleFormChange480_12120" editable="true" layout="ResponsiveGridLayout" title="Captura de información" labelSpanXL="4" labelSpanL="4" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="3" columnsL="3" columnsM="1">
                    <f:content>
                        <core:Title text="Datos de Flujo">
                        </core:Title>
                        <Label text="Requisición" />
                        <ComboBox id="cboxRequisicion" items="{ path: 'Requisiciones>/' }" change="onRequisicionChange">
                            <core:ListItem key="{Requisiciones>Reqid}" text="{Requisiciones>Reqid}"/>
                        </ComboBox>

                        <Label text="Sociedad" />
                        <ComboBox id="cboxSociedad" showSecondaryValues="true" items="{ path: 'Sociedades>/' }" enabled="false">
                            <core:ListItem key="{Sociedades>Valor}" text="{Sociedades>Descripcion}" additionalText="{Sociedades>Valor}" />
                        </ComboBox>

                        <Label text="Flujo" />
                        <ComboBox id="cboxFlujo" enabled="false" showSecondaryValues="true" items="{ path: 'Flujos>/' }" selectionChange="onFilterAprobadores" change="onFilterAprobadores">
                            <core:ListItem key="{Flujos>Valor}" text="{Flujos>Descripcion}" additionalText="{Flujos>Valor}" />
                        </ComboBox>

                        <core:Title text="Datos para Requisición" />
                        <Label text="Importe" />
                        <Input id="inptImporte" value="" enabled="false"/>

                        <Label text="Concepto" />
                        <Input id="inptConcepto" value="" enabled="false"/>

                        <Label text="Acreedor" />
                        <ComboBox id="cboxAcreedor" showSecondaryValues="true" items="{ path: 'Acreedores>/' }" enabled="false">
                            <core:ListItem key="{Acreedores>Valor}" text="{Acreedores>Descripcion}" additionalText="{Acreedores>Valor}" />
                        </ComboBox>
                        <Label text="" />
                        <Button
                            id="btnBuscarDocs"
                            icon="sap-icon://search"
                            text="{i18n>form.documentos.seleccionados}"
                            press="onBuscarDocumentos">
                        </Button>

                        <core:Title text="Datos para tesoreria" />
                        <Label text="Correo electrónico" />
                        <Input id="inptCorreo" value="" enabled="false"/>
                    </f:content>
                </f:SimpleForm>

                <Table id="tblPropuestas" fixedLayout="false" sticky="ColumnHeaders" items="{Aprobadores>/}">
                    <headerToolbar>
                        <OverflowToolbar>
                            <Title text="Aprobadores" level="H3"/>
                            <ToolbarSpacer/>
                        </OverflowToolbar>
                    </headerToolbar>

                    <columns>
                        <Column width="20%">
                            <Text text="Usuario" />
                        </Column>
                        <Column width="40%">
                            <Text text="Nombre" />
                        </Column>
                        <Column width="40%">
                            <Text text="Correo electrónico" />
                        </Column>
                    </columns>

                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{Aprobadores>Usuario}" />
                                <Text text="{Aprobadores>Ename}" />
                                <Text text="{Aprobadores>Email}" />
                            </cells>
                        </ColumnListItem>
                    </items>

                </Table>
            </VBox>
        </content>
        <footer>
            <OverflowToolbar>
                <ToolbarSpacer />
                <Button type="Accept" text="{i18n>toolbar.footer.accept}" press="onIniciarFlujo">
                    <layoutData>
                        <OverflowToolbarLayoutData priority="NeverOverflow" />
                    </layoutData>
                </Button>
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>